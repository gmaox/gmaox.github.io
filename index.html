<!doctype html>
<html>

<head>
    <meta charset="UTF-8">
    <meta name="viewport" id="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" href="favicon.png" type="image/x-icon">
    <title>maoziã®çª</title>
    <style>
        /* ç¡®ä¿ body å æ»¡æ•´ä¸ªè§†å£ */
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            transition: background-image 0.3s ease;
        }

        /* åŠ è½½æç¤ºæ ·å¼ */
        #loading-tip {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            padding: 10px 20px;
            background: rgba(0, 0, 0, 0.7);
            color: white;
            border-radius: 5px;
            z-index: 100;
            /* ç¡®ä¿åœ¨æœ€ä¸Šå±‚ */
            display: none;
            /* é»˜è®¤éšè— */
        }
    </style>
</head>

<body>
    <script>
    // æ§åˆ¶æ¸å˜èƒŒæ™¯æ˜¯å¦å¯ç”¨çš„å¼€å…³
let gradientEnabled = true;
        // é¿å…ç”Ÿæˆç°è‰²æˆ–ç›¸è¿‘é¢œè‰²çš„å‡½æ•°
        function avoidGray(r, g, b) {
            // å®šä¹‰ä¸€ä¸ªé˜ˆå€¼ï¼Œç”¨äºåˆ¤æ–­é¢œè‰²é€šé“å€¼æ˜¯å¦ç›¸è¿‘
            const threshold = 2;
            const isSimilar = Math.abs(r - g) <= threshold && Math.abs(g - b) <= threshold && Math.abs(r - b) <= threshold;
            if (isSimilar) {
                const randomChannel = Math.floor(Math.random() * 3);
                const adjustment = Math.floor(Math.random() * 30) + 10; // éšæœºè°ƒæ•´å¹…åº¦ 10 - 39
                if (randomChannel === 0) {
                    r = Math.min(255, Math.max(150, r + (Math.random() > 0.5 ? adjustment : -adjustment)));
                } else if (randomChannel === 1) {
                    g = Math.min(255, Math.max(150, g + (Math.random() > 0.5 ? adjustment : -adjustment)));
                } else {
                    b = Math.min(255, Math.max(150, b + (Math.random() > 0.5 ? adjustment : -adjustment)));
                }
            }
            return [r, g, b];
        }

        // åœ¨é¡µé¢åŠ è½½æ—¶å°±ç¡®å®šéšæœºè°ƒæ•´å€¼
        function generateAdjustments() {
            const randomChannel1 = Math.floor(Math.random() * 3);
            const adjustment1 = Math.floor(Math.random() * 30) + 10;
            const randomChannel2 = Math.floor(Math.random() * 3);
            const adjustment2 = Math.floor(Math.random() * 30) + 10;
            return {
                randomChannel1,
                adjustment1,
                randomChannel2,
                adjustment2
            };
        }

        const {
            randomChannel1,
            adjustment1,
            randomChannel2,
            adjustment2
        } = generateAdjustments();

        // ä¿®æ”¹åçš„é¢œè‰²è°ƒæ•´å‡½æ•°
        function adjustColor(r, g, b, channel, adjustment) {
            // ç¡®ä¿è°ƒæ•´åçš„é¢œè‰²å€¼åœ¨150-255èŒƒå›´å†…
            const newValue = Math.min(255, Math.max(150,
                channel === 0 ? r + adjustment :
                channel === 1 ? g + adjustment :
                b + adjustment
            ));

            // è¿”å›è°ƒæ•´åçš„RGBå€¼
            return [
                channel === 0 ? newValue : r,
                channel === 1 ? newValue : g,
                channel === 2 ? newValue : b
            ];
        }

        // é¡µé¢åŠ è½½å®Œæˆåè®¾ç½®åˆå§‹æ¸å˜èƒŒæ™¯
        window.onload = function() {
            if (!gradientEnabled) return;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;
            // å–çª—å£ä¸­å¿ƒä½ç½®ä½œä¸ºåˆå§‹é¼ æ ‡ä½ç½®
            const x = 0;
            const y = windowHeight / 2;

            // ç”Ÿæˆæ·¡è‰²çš„ RGB å€¼ï¼ˆèŒƒå›´ 150 - 255ï¼‰
            let r1 = Math.floor(150 + (x / windowWidth) * 105);
            let g1 = Math.floor(150 + (y / windowHeight) * 105);
            let b1 = Math.floor(150 + ((x + y) / (windowWidth + windowHeight)) * 105);

            let r2 = Math.floor(150 + ((windowWidth - x) / windowWidth) * 105);
            let g2 = Math.floor(150 + ((windowHeight - y) / windowHeight) * 105);
            let b2 = Math.floor(150 + ((windowWidth + windowHeight - x - y) / (windowWidth + windowHeight)) * 105);

            // ä½¿ç”¨é¢„å…ˆç¡®å®šçš„è°ƒæ•´å€¼
            if (Math.abs(r1 - g1) <= 30 && Math.abs(g1 - b1) <= 30 && Math.abs(r1 - b1) <= 30) {
                [r1, g1, b1] = adjustColor(r1, g1, b1, randomChannel1, adjustment1);
            }

            if (Math.abs(r2 - g2) <= 30 && Math.abs(g2 - b2) <= 30 && Math.abs(r2 - b2) <= 30) {
                [r2, g2, b2] = adjustColor(r2, g2, b2, randomChannel2, adjustment2);
            }

            // åˆ›å»ºæ¸å˜èƒŒæ™¯
            document.body.style.backgroundImage = `linear-gradient(to bottom right, rgb(${r1}, ${g1}, ${b1}), rgb(${r2}, ${g2}, ${b2}))`;
        };

        // æå–æ¸å˜é€»è¾‘ä¸ºå•ç‹¬å‡½æ•°
        function updateGradient(x, y) {
            if (!gradientEnabled) return;
            const windowWidth = window.innerWidth;
            const windowHeight = window.innerHeight;

            // ç”Ÿæˆæ·¡è‰²çš„ RGB å€¼ï¼ˆèŒƒå›´ 150 - 255ï¼‰
            let r1 = Math.floor(150 + (x / windowWidth) * 105);
            let g1 = Math.floor(150 + (y / windowHeight) * 105);
            let b1 = Math.floor(150 + ((x + y) / (windowWidth + windowHeight)) * 105);

            let r2 = Math.floor(150 + ((windowWidth - x) / windowWidth) * 105);
            let g2 = Math.floor(150 + ((windowHeight - y) / windowHeight) * 105);
            let b2 = Math.floor(150 + ((windowWidth + windowHeight - x - y) / (windowWidth + windowHeight)) * 105);

            // ä½¿ç”¨é¢„å…ˆç¡®å®šçš„è°ƒæ•´å€¼
            if (Math.abs(r1 - g1) <= 30 && Math.abs(g1 - b1) <= 30 && Math.abs(r1 - b1) <= 30) {
                [r1, g1, b1] = adjustColor(r1, g1, b1, randomChannel1, adjustment1);
            }

            if (Math.abs(r2 - g2) <= 30 && Math.abs(g2 - b2) <= 30 && Math.abs(r2 - b2) <= 30) {
                [r2, g2, b2] = adjustColor(r2, g2, b2, randomChannel2, adjustment2);
            }

            // åˆ›å»ºæ¸å˜èƒŒæ™¯
            document.body.style.backgroundImage = `linear-gradient(to bottom right, rgb(${r1}, ${g1}, ${b1}), rgb(${r2}, ${g2}, ${b2}))`;
        }

        // é¼ æ ‡ç§»åŠ¨äº‹ä»¶
        document.addEventListener('mousemove', function(event) {
            updateGradient(event.clientX, event.clientY);
        });

        // è§¦æ‘¸ç§»åŠ¨äº‹ä»¶
        document.addEventListener('touchmove', function(event) {
            event.preventDefault(); // é˜²æ­¢è§¦æ‘¸æ—¶çš„é»˜è®¤è¡Œä¸º
            const touch = event.touches[0];
            updateGradient(touch.clientX, touch.clientY);
        }, {
            passive: false
        });
    </script>
    <!-- <body style="background-image:url('/nene.png');">  -->
    <script type="text/javascript">
        // åˆ‡æ¢æ˜¾ç¤º/éšè—
        function display(id) {
            var target = document.getElementById(id);
            target.style.display = target.style.display === "none" ? "" : "none";
        }

        // æ–°å¢ï¼šåˆ‡æ¢z-indexåŠŸèƒ½
        function toggleDrag() {
            var container = document.getElementById('model-container');
            // åˆ›å»ºæç¤ºå…ƒç´ ï¼ˆå¦‚æœä¸å­˜åœ¨ï¼‰
            let loadingTip = document.getElementById('loading-tip');
            if (!loadingTip) {
                loadingTip = document.createElement('div');
                loadingTip.id = 'loading-tip';
                loadingTip.textContent = 'æ¨¡å‹åŠ è½½ä¸­...';
                document.body.appendChild(loadingTip);
            }
            if (!container) {
                // æ˜¾ç¤ºåŠ è½½æç¤º
                loadingTip.style.display = 'block';
                // åŠ è½½æ¨¡å‹
                jiazaidoro();
                // å»¶è¿Ÿæ£€æŸ¥å®¹å™¨æ˜¯å¦åˆ›å»º
                const checkLoaded = setInterval(() => {
                    container = document.getElementById('model-container');
                    if (container) {
                        clearInterval(checkLoaded);
                        loadingTip.style.display = 'none'; // éšè—æç¤º
                        toggleDrag(); // æ‰§è¡Œåˆ‡æ¢é€»è¾‘
                    }
                }, 200); // æ¯200msæ£€æŸ¥ä¸€æ¬¡
                return;
            }
            // åŸæœ‰åˆ‡æ¢é€»è¾‘
            var currentZIndex = parseInt(container.style.zIndex || window.getComputedStyle(container).zIndex);
            var newZIndex = currentZIndex === 1 ? -1 : 1;
            container.style.zIndex = newZIndex;
        }
    </script>

    <input type="button" value="éšè—ğŸ‘€" onclick="display('l')" style="position: relative;z-index:2;float:right;">
    <input type="button" value="å¬å”¤ğŸŠ" onclick="toggleDrag()" style="position: relative;z-index:2;float:left;">
    <div id="l" align="center" style="margin:auto;background-color:#ffffff8f;width:370px;">
        <h1>Gmaozi pagesï¼</h1>
        <div>
            <small><small>ä¸€è¨€å¯ä»¥ç‚¹å“¦~</small></small>( Ë˜â–½Ë˜)ã£â™¨ <br><iframe src="box/a" name="myframe" width="300" height="100" scrolling="NO" frameborder="1" id="myframe" border="0"></iframe>
        </div>
        <hr>
        <div>
            è¿™é‡Œå‡†å¤‡æ”¾ç‚¹<a href="box" style="color:#000000;" onclick="replaceWithIframe(this.href)">ä¸œè¥¿</a>
            <br>
            <div id="image-container">
                <!-- å›¾ç‰‡å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
            </div>
            <script>
                // å®šä¹‰å›¾ç‰‡æ•°ç»„
                const images = ["1.jpg", "2.jpg", "3.jpg", "4.jpg"];

                // è·å–å½“å¤©çš„æ—¥æœŸï¼ˆä¾‹å¦‚ï¼Œ20241120ï¼‰
                const today = new Date();
                const dayKey = today.getFullYear() + "" + (today.getMonth() + 1) + "" + today.getDate();

                // ä½¿ç”¨æ—¥æœŸç”Ÿæˆéšæœºæ•°ç§å­
                function seededRandom(seed) {
                    let x = Math.sin(seed) * 10000;
                    return x - Math.floor(x);
                }

                // è®¡ç®—ç§å­ï¼ˆå°†æ—¥æœŸå­—ç¬¦ä¸²è½¬ä¸ºæ•°å€¼ï¼‰
                const seed = parseInt(dayKey, 10);

                // åŸºäºç§å­ç”Ÿæˆéšæœºç´¢å¼•
                const randomIndex = Math.floor(seededRandom(seed) * images.length);

                // è·å–éšæœºå›¾ç‰‡
                const selectedImage = images[randomIndex];

                // åœ¨é¡µé¢æ˜¾ç¤ºå›¾ç‰‡
                const imgElement = document.createElement("img");
                imgElement.src = selectedImage;
                imgElement.alt = "éšæœºå›¾ç‰‡";
                imgElement.style.maxWidth = "100%";
                imgElement.style.height = "auto";
                document.getElementById("image-container").appendChild(imgElement);
      // åˆ‡æ¢èƒŒæ™¯å›¾ï¼ˆæ·»åŠ æš‚åœæ¸å˜é€»è¾‘ï¼‰
function changeBackground() {
    console.log("å¼€å§‹æŠ½å–èƒŒæ™¯å›¾...");
    
    // è·å–æˆ–åˆ›å»ºåŠ è½½æç¤ºå…ƒç´ 
    let loadingTip = document.getElementById('loading-tip');
    if (!loadingTip) {
        loadingTip = document.createElement('div');
        loadingTip.id = 'loading-tip';
        loadingTip.style.position = 'fixed';
        loadingTip.style.top = '50%';
        loadingTip.style.left = '50%';
        loadingTip.style.transform = 'translate(-50%, -50%)';
        loadingTip.style.padding = '10px 20px';
        loadingTip.style.background = 'rgba(0, 0, 0, 0.7)';
        loadingTip.style.color = 'white';
        loadingTip.style.borderRadius = '5px';
        loadingTip.style.zIndex = '100';
        document.body.appendChild(loadingTip);
    }
    // æ˜¾ç¤ºèƒŒæ™¯åŠ è½½æç¤º
    loadingTip.textContent = 'èƒŒæ™¯åŠ è½½ä¸­...';
    loadingTip.style.display = 'block';

    const screenWidth = window.innerWidth;
    const screenHeight = window.innerHeight;
    const imgUrl = `https://picsum.photos/seed/${Math.random()}/${screenWidth}/${screenHeight}`;
    currentBackgroundUrl = imgUrl;

    const img = new Image();
    img.src = imgUrl;

    // å›¾ç‰‡åŠ è½½æˆåŠŸåé€»è¾‘
    img.onload = function() {
        console.log("èƒŒæ™¯å›¾åŠ è½½æˆåŠŸï¼š", imgUrl);
        // éšè—åŠ è½½æç¤º
        loadingTip.style.display = 'none';
        
        // åˆ›å»ºåº•å±‚å›¾ç‰‡å®¹å™¨å¹¶æ˜¾ç¤ºå›¾ç‰‡
        let bgContainer = document.getElementById('backgroundContainer');
        if (!bgContainer) {
            bgContainer = document.createElement('div');
            bgContainer.id = 'backgroundContainer';
            bgContainer.style.position = 'fixed';
            bgContainer.style.top = '0';
            bgContainer.style.left = '0';
            bgContainer.style.width = '100%';
            bgContainer.style.height = '100%';
            bgContainer.style.zIndex = '-9999';
            bgContainer.style.overflow = 'hidden';
            document.body.appendChild(bgContainer);
        }
        bgContainer.innerHTML = '';
        img.style.width = '100%';
        img.style.height = '100%';
        img.style.objectFit = 'cover';
        img.style.objectPosition = 'center';
        bgContainer.appendChild(img);

        // å…³é—­æ¸å˜æ›´æ–°
        gradientEnabled = false;
        // æ˜¾ç¤ºæŸ¥çœ‹æŒ‰é’®
        document.getElementById('viewBackground').style.display = 'inline';
    };

// åŠ è½½å¤±è´¥åï¼šæ˜¾ç¤ºå¤±è´¥æç¤ºï¼Œå»¶è¿Ÿéšè—ï¼Œæ¢å¤æ¸å˜èƒŒæ™¯
img.onerror = function() {
    console.error('èƒŒæ™¯å›¾åŠ è½½å¤±è´¥ï¼Œæ¢å¤æ¸å˜èƒŒæ™¯');
    
    // 1. æ›´æ–°æç¤ºæ–‡å­—ä¸ºå¤±è´¥ä¿¡æ¯
    loadingTip.textContent = 'èƒŒæ™¯å›¾åŠ è½½å¤±è´¥';
    loadingTip.style.display = 'block'; // ç¡®ä¿æç¤ºå¯è§
    
    // 2. å»¶è¿Ÿ2000mséšè—æç¤º
    setTimeout(() => {
        loadingTip.style.display = 'none';
    }, 2000);

    // 3. é‡ç½®çŠ¶æ€å¹¶æ¢å¤æ¸å˜èƒŒæ™¯
    currentBackgroundUrl = ''; // æ¸…ç©ºèƒŒæ™¯å›¾åœ°å€
    document.getElementById('viewBackground').style.display = 'none'; // éšè—æŸ¥çœ‹æŒ‰é’®
    
    // ç§»é™¤åº•å±‚å›¾ç‰‡å®¹å™¨ï¼ˆè‹¥å­˜åœ¨ï¼‰
    const bgContainer = document.getElementById('backgroundContainer');
    if (bgContainer) {
        bgContainer.remove();
    }
    
    // é‡æ–°å¯ç”¨æ¸å˜èƒŒæ™¯å¹¶æ›´æ–°
    gradientEnabled = true;
    const centerX = window.innerWidth / 2;
    const centerY = window.innerHeight / 2;
    updateGradient(centerX, centerY);
};
}




// æ–°çª—å£æ‰“å¼€å½“å‰èƒŒæ™¯å›¾
function openBackgroundInNewWindow() {
    if (currentBackgroundUrl) {
        window.open(currentBackgroundUrl, '_blank');
    }
}
            </script>
            <!-- ä¸»ç•Œé¢ -->
            <u onclick="toggleModal()" style="font-size: 12px; color: #333;">å…³äºè½¯ç³–è¿åŠ¿</u>
   <!-- æŠ½èƒŒæ™¯è§¦å‘æ ‡ç­¾ -->
<u onclick="changeBackground()" style="font-size: 12px; color: #333;">æŠ½ä¸€å¼ èƒŒæ™¯å›¾</u>

<!-- æŸ¥çœ‹èƒŒæ™¯å›¾æ ‡ç­¾ï¼ˆé»˜è®¤éšè—ï¼‰ -->
<u id="viewBackground" onclick="openBackgroundInNewWindow()" style="font-size: 12px; color: #333;display: none;">æŸ¥çœ‹èƒŒæ™¯</u>
            <!-- æ‚¬æµ®çª— -->
            <div id="modal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.5); overflow-y: auto; z-index: 1000; -webkit-overflow-scrolling: touch;">
                <div style="min-height: 100vh; display: flex; justify-content: center; padding: 20px; box-sizing: border-box;">
                    <div style="width: 90%; max-width: 600px; background-color: white; border-radius: 10px; padding: 20px; box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);">
                        <p style="font-size: 16px; color: #555; margin-bottom: 20px; text-align: left;">
                            è¿™åŸæœ¬æ˜¯é›ªè§è½¯ç³–é…±ï¼ˆLxBotï¼‰çš„ç­¾åˆ°é™„å±åŠŸèƒ½ï¼Œä¼šåœ¨ç¾¤èŠç­¾åˆ°æ—¶éšç€ç»éªŒå€¼ç­‰å…¶ä»–ä¿¡æ¯ä¸€åŒå‘é€ç»™ä½¿ç”¨è€…ã€‚<br>
                            æˆ‘è§‰å¾—è½¯ç³–å¯çˆ±ä¾¿æ”¾åœ¨äº†è¿™é‡Œï¼Œæ¯å¤©çš„å›¾ç‰‡éƒ½ä¼šä¸ä¸€æ ·,4ç§çŠ¶æ€éƒ½æ˜¯ç­‰æ¦‚ç‡çš„ï¼Œæ‰€ä»¥æŠ½åˆ°å‡¶å°±æ˜¯å››åˆ†ä¹‹ä¸€çš„æ³¨å®šäº†ã€‚
                        </p>
                        <div style="display: grid; grid-template-columns: repeat(1, 1fr); gap: 10px;">
                            <img src="1.jpg" alt="å‰" style="width: 100%; border-radius: 5px;">
                            <img src="2.jpg" alt="å‡¶" style="width: 100%; border-radius: 5px;">
                            <img src="3.jpg" alt="å¤§å‰" style="width: 100%; border-radius: 5px;">
                            <img src="4.jpg" alt="ä¸­å‰" style="width: 100%; border-radius: 5px;">
                        </div>
                        <button onclick="toggleModal()" style="margin-top: 20px; padding: 10px 20px; font-size: 16px; background-color: #f44336; color: white; border: none; border-radius: 5px; cursor: pointer;">
                            å…³é—­
                        </button>
                    </div>
                </div>
            </div>

            <script>
                function toggleModal() {
                    const modal = document.getElementById('modal');
                    modal.style.display = modal.style.display === 'none' || modal.style.display === '' ? 'block' : 'none';
                }
            </script>
            <br> <small><small><small> ææŒ‡ä¸€ç®—ï¼Œä¸‹æ¬¡<i style="color:#FFA15D;">å’•å’•å’•</i>çš„æ¦‚ç‡ä¸º<script language="javascript">
                            var number = Math.random();
                            number = Math.ceil(number * 100);
                            document.write(number);
                        </script>%ï¼ </small></small></small>
            <script>
                /*
				* @name:
				çœ‹æ¿å¨˜
				* @Author:
				Sky
				* @version:
				1.9.2
				* @description:
				æ„¿ä½ æ¯å¤©å¥½å¿ƒæƒ…
				* @include:
				*
				* @createTime:
				2020-5-9 21:
				00
				* @updateTime:
				2021-5-9 3:
				50
				*/
                function kanbanniang() {

                    (function() {
                        const w = window,
                            /*
                            ä»¥ä¸‹å‚æ•°å¯ä¿®æ”¹ï¼Œ=nullè¡¨ç¤ºæ¢å¤é»˜è®¤å€¼
                            */
                            onlyWifi = false;

                        /*
                        ä»…åœ¨Wifiç¯å¢ƒè¿è¡Œ
                        */
                        w.kbn_setting0 = 6;

                        /*
                        äººç‰©ID
                        */
                        w.kbn_setting1 = 19;

                        /*
                        è¡£æœID
                        */
                        w.kbn_setting2 = false;

                        /*
                        æ˜¯å¦æ˜¾ç¤ºå…³é—­æŒ‰é’®
                        */
                        w.kbn_setting3 = '180x170';

                        /*
                        çœ‹æ¿å¨˜å¤§å°
                        */
                        w.kbn_setting4 = 'right:10';

                        /*
                        åœé ä¾§:
                        åˆ°ä¾§è¾¹è·ç¦»
                        */
                        w.kbn_setting5 = '160x50';

                        /*
                        æç¤ºæ¡†å¤§å°
                        */
                        w.kbn_setting6 = '14px';

                        /*
                        æç¤ºæ¡†å­—ä½“å¤§å°
                        */
                        w.kbn_setting7 = '-13px';

                        /*
                        æç¤ºæ¡†Yè½´åç§»
                        */
                        w.kbn_setting8 = '18px';

                        /*
                        å·¥å…·æ å›¾æ ‡å¤§å°
                        */
                        w.kbn_setting9 = '36px';

                        /*
                        å·¥å…·æ è¡Œé«˜
                        */
                        w.kbn_setting10 = null;

                        /*
                        ä¸€è¨€APIå¯é€‰'fghrsh.net', 'hitokoto.cn', 'jinrishici.com'(å¤è¯—è¯)
                        */

                        /*
                        ï¼ï¼ï¼ï¼ä»¥ä¸‹å‹¿æ”¹ï¼ï¼ï¼ï¼
                        */
                        const key = encodeURIComponent('çœ‹æ¿å¨˜:æ‰§è¡Œåˆ¤æ–­');
                        if (w[key] || (!(onlyWifi == false) && navigator.connection.type != 'wifi')) {
                            return;
                        }
                        try {
                            w[key] = true;
                            const lib = document.createElement('script');
                            lib.src = 'https://cdn.jsdelivr.net/gh/IlysvlVEizbr/Live2D@1.9/kbn.js';
                            lib.defer = true;
                            document.body.append(lib);
                        } catch (err) {
                            console.log('çœ‹æ¿å¨˜ï¼š', err);
                        }
                    })();
                }
            </script>
        </div>
        <hr>
        <div>
            <a href="web" onclick="replaceWithIframe(this.href)">ç«™ç‚¹æ”¶è—</a>â”‚<a href="about" onclick="replaceWithIframe(this.href)">å…³äºæœ¬ç«™</a>â”‚<u onclick="kanbanniang()" style="color: #0000EE; cursor: pointer;">åŠ è½½çœ‹ç‰ˆå¨˜</u>
            <p><small>è¯•è¯•è¿™ä¸ªä¸œè¥¿ï¼Œå¥½ç© â†‘</small>
            <p>
            <div><small><small>å¸½ã®èŠ±å“¨ä¸»é¡µ Â© 2021-2025 </small></small></div>
        </div>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/build/three.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/loaders/GLTFLoader.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/three@0.132.2/examples/js/controls/OrbitControls.js"></script>

    <script>
        function jiazaidoro() {
            // åˆå§‹åŒ–åœºæ™¯
            // 3Dæ¨¡å‹åˆå§‹åŒ–
            const scene = new THREE.Scene();
            scene.background = null; // é€æ˜èƒŒæ™¯

            const camera = new THREE.PerspectiveCamera(60, window.innerWidth / window.innerHeight, 0.1, 1000);
            camera.position.set(5, 5, 5);

            const renderer = new THREE.WebGLRenderer({
                antialias: true,
                alpha: true, // å¯ç”¨é€æ˜åº¦
            });
            renderer.setSize(window.innerWidth, window.innerHeight);
            renderer.shadowMap.enabled = true; // å¯ç”¨é˜´å½±
            // åˆ›å»ºå®¹å™¨divæ”¾åœ¨bodyæœ«å°¾
            const modelContainer = document.createElement('div');
            modelContainer.id = 'model-container';
            document.body.appendChild(modelContainer);

            // å°†æ¸²æŸ“å™¨æ·»åŠ åˆ°è¿™ä¸ªå®¹å™¨ä¸­
            modelContainer.appendChild(renderer.domElement);

            // CSSæ ·å¼ï¼ˆæ·»åŠ åˆ°<head>æˆ–æ ·å¼è¡¨ä¸­ï¼‰
            const style = document.createElement('style');
            style.textContent = `
  #model-container {
    position: fixed;
    bottom: 0;
    left: 0;
    width: 100%;
    height: 90%; /* å æ®è§†å£é«˜åº¦çš„ä¸€åŠ */
    z-index: -1;
  }
`;
            document.head.appendChild(style);
            //document.body.appendChild(renderer.domElement);

            // å¢å¼ºå…‰ç…§ç³»ç»Ÿ
            const ambientLight = new THREE.AmbientLight(0xffffff, 0.8);
            scene.add(ambientLight);

            // ä¸»å…‰æºï¼ˆæ›´äº®ï¼‰
            const mainLight = new THREE.DirectionalLight(0xffffff, 1.2);
            mainLight.position.set(1, 1, 1);
            mainLight.castShadow = true;
            mainLight.shadow.mapSize.width = 2048;
            mainLight.shadow.mapSize.height = 2048;
            scene.add(mainLight);

            // è¾…åŠ©å…‰æº
            const fillLight = new THREE.DirectionalLight(0xffffff, 0.5);
            fillLight.position.set(-1, 0.5, -1);
            scene.add(fillLight);

            // æ·»åŠ è½¨é“æ§åˆ¶å™¨
            const controls = new THREE.OrbitControls(camera, renderer.domElement);
            controls.enableDamping = true;
            controls.dampingFactor = 0.05;
            controls.screenSpacePanning = true;

            // åŠ è½½æ¨¡å‹
            const loader = new THREE.GLTFLoader();
            loader.load(
                '1.glb',
                function(gltf) {
                    const model = gltf.scene;
                    scene.add(model);

                    // è‡ªåŠ¨è°ƒæ•´ç›¸æœºä½ç½®ï¼ˆä¿æŒæ­£è§†å›¾è§†è§’ï¼‰
                    const box = new THREE.Box3().setFromObject(model);
                    const center = box.getCenter(new THREE.Vector3());
                    const size = box.getSize(new THREE.Vector3());

                    // ä¿æŒZè½´æ­£è§†å›¾ï¼Œæ ¹æ®æ¨¡å‹å¤§å°è°ƒæ•´è·ç¦»
                    const maxDim = Math.max(size.x, size.y, size.z);
                    camera.position.z = maxDim * 2;
                    camera.lookAt(center);

                    controls.target.copy(center);
                    controls.update();

                    // æ·»åŠ è¾…åŠ©å·¥å…·
                    //const axesHelper = new THREE.AxesHelper(maxDim);
                    //scene.add(axesHelper);

                    // æ·»åŠ ç½‘æ ¼åœ°é¢
                    //const gridHelper = new THREE.GridHelper(maxDim * 2, 20, 0x888888, 0xcccccc);
                    //scene.add(gridHelper);
                },
                undefined,
                function(error) {
                    console.error('åŠ è½½æ¨¡å‹å‡ºé”™:', error);
                }
            );

            // å¤„ç†çª—å£å¤§å°å˜åŒ–
            window.addEventListener('resize', () => {
                camera.aspect = window.innerWidth / window.innerHeight;
                camera.updateProjectionMatrix();
                renderer.setSize(window.innerWidth, window.innerHeight);
            });

            // åŠ¨ç”»å¾ªç¯
            function animate() {
                requestAnimationFrame(animate);
                controls.update();
                renderer.render(scene, camera);
            }
            animate();
        }
        // ä¿®å¤æ‚¬æµ®çª—è§¦æ‘¸æ»šåŠ¨é—®é¢˜
        document.getElementById('modal').addEventListener('touchmove', function(e) {
            // å…è®¸æ‚¬æµ®çª—å†…éƒ¨æ»šåŠ¨
            e.stopPropagation();
        }, {
            passive: true
        });
        // æ ‡å‡†åŒ–URLï¼Œå¤„ç†ç­‰æ•ˆæƒ…å†µï¼ˆå¦‚/index.htmlã€/ã€ç©ºè·¯å¾„çš„ç»Ÿä¸€ï¼‰
        function normalizeUrl(url) {
            try {
                const parsed = new URL(url);
                // ç§»é™¤æœ«å°¾æ–œæ ï¼ˆå¦‚https://a.com/ â†’ https://a.comï¼‰
                parsed.pathname = parsed.pathname.replace(/\/$/, '');
                // å¤„ç†é»˜è®¤é¦–é¡µï¼ˆå¦‚/index.html â†’ ç©ºè·¯å¾„ï¼‰
                if (parsed.pathname.toLowerCase() === '/index.html') {
                    parsed.pathname = '';
                }
                return parsed.href;
            } catch (e) {
                return url; // è§£æå¤±è´¥æ—¶è¿”å›åŸå§‹URL
            }
        }
        // è®°å½•åŸç½‘é¡µçš„åŸºç¡€URLï¼ˆæ ¹æ®å®é™…åŸŸåä¿®æ”¹ï¼Œä¾‹å¦‚ä½ çš„ç½‘ç«™æ˜¯https://example.comï¼Œåˆ™å†™è¿™ä¸ªï¼‰
        // æ ‡å‡†åŒ–åŸç½‘é¡µURLï¼Œå¤„ç†ç­‰æ•ˆæƒ…å†µ
        const originalNormalizedUrl = normalizeUrl(window.location.href);
        // å¦‚æœéœ€è¦ç²¾ç¡®åŒ¹é…ï¼Œå¯ä»¥æ‰‹åŠ¨æŒ‡å®šï¼Œä¾‹å¦‚ï¼š
        // const originalBaseUrl = 'https://ä½ çš„ç½‘ç«™åŸŸå';
// æ‰“å¼€iframeæ‚¬æµ®çª—ï¼ˆä»…ç”µè„‘ç«¯ç”Ÿæ•ˆï¼‰
function replaceWithIframe(url) {
    event.preventDefault(); // é˜»æ­¢aæ ‡ç­¾é»˜è®¤è·³è½¬

    // åˆ¤æ–­æ˜¯å¦ä¸ºç”µè„‘ç«¯ï¼ˆå±å¹•å®½åº¦ >= 768px è§†ä¸ºç”µè„‘ç«¯ï¼Œå¯æ ¹æ®éœ€è¦è°ƒæ•´ï¼‰
    const isDesktop = window.innerWidth >= 768;

    if (!isDesktop) {
        // ç§»åŠ¨ç«¯ï¼šç›´æ¥åœ¨æ–°çª—å£æ‰“å¼€é“¾æ¥ï¼ˆä¸æ˜¾ç¤ºæ‚¬æµ®çª—ï¼‰
        window.open(url, '_blank');
        return; // ç»ˆæ­¢å‡½æ•°ï¼Œä¸æ‰§è¡Œæ‚¬æµ®çª—é€»è¾‘
    }

    // ç”µè„‘ç«¯ï¼šæ­£å¸¸æ˜¾ç¤ºiframeæ‚¬æµ®çª—
    const modal = document.getElementById('iframeModal');
    const iframe = document.getElementById('contentIframe');
    const urlDisplay = document.getElementById('iframeUrlDisplay');
    const newWindowBtn = document.getElementById('openNewWindow');

    // åˆå§‹è®¾ç½®
    iframe.src = url;
    urlDisplay.textContent = url;
    modal.style.display = 'block';

    // ç»‘å®šæ–°çª—å£æ‰“å¼€äº‹ä»¶
    newWindowBtn.onclick = () => {
        window.open(iframe.src, '_blank');
    };

    // ç›‘å¬iframeåŠ è½½å®Œæˆäº‹ä»¶ï¼ˆå¤„ç†ç­‰æ•ˆURLï¼‰
    iframe.onload = function() {
        try {
            const currentIframeUrl = iframe.contentWindow.location.href;
            const normalizedIframeUrl = normalizeUrl(currentIframeUrl);
            urlDisplay.textContent = currentIframeUrl;

            if (normalizedIframeUrl === originalNormalizedUrl) {
                setTimeout(closeIframeModal, 500);
            }
        } catch (e) {
            console.log('æ— æ³•è·å–iframe URLï¼ˆè·¨åŸŸé™åˆ¶ï¼‰:', e);
        }
    };
}


        // å…³é—­iframeæ‚¬æµ®çª—ï¼ˆä¿æŒä¸å˜ï¼‰
        function closeIframeModal() {
            const modal = document.getElementById('iframeModal');
            const iframe = document.getElementById('contentIframe');
            modal.style.display = 'none';
            iframe.src = ''; // æ¸…ç©ºiframeå†…å®¹
        }
    </script>
    <!-- iframeæ‚¬æµ®çª— -->
    <div id="iframeModal" style="display: none; position: fixed; top: 0; left: 0; width: 100%; height: 100%; background-color: rgba(0, 0, 0, 0.7); overflow-y: auto; z-index: 1001; -webkit-overflow-scrolling: touch;">
        <div style="min-height: 100vh; padding: 20px; box-sizing: border-box;">
            <div style="width: 90%; max-width: 1000px; margin: 0 auto; background-color: white; border-radius: 10px; box-shadow: 0 4px 12px rgba(0, 0, 0, 0.3);">
                <!-- é¡¶éƒ¨å¯¼èˆªæ  -->
                <div style="padding: 12px 20px; border-bottom: 1px solid #eee; display: flex; justify-content: space-between; align-items: center;">
                    <div id="iframeUrlDisplay" style="word-break: break-all; color: #333; max-width: 70%;"></div>
                    <!-- åŠ è½½è‡ªå®šä¹‰é“¾æ¥æŒ‰é’® -->
                    <div style="display: flex; gap: 8px;">
        <button id="loadCustomUrl" style="padding: 6px 12px; background-color: #28a745; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
            åŠ è½½è‡ªå®šä¹‰é“¾æ¥
        </button>
        <button id="openNewWindow" style="padding: 6px 12px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; font-size: 14px;">
            æ–°çª—å£ï¼ˆå…¨å±ï¼‰æ‰“å¼€
        </button>
    </div>
                </div>
                <!-- iframeå†…å®¹åŒº -->
                <iframe id="contentIframe" style="width: 100%; min-height: 80vh; border: none;"></iframe>
                <!-- å…³é—­æŒ‰é’® -->
                <div style="padding: 12px 20px; border-top: 1px solid #eee; text-align: right;">
                    <button onclick="closeIframeModal()" style="padding: 8px 16px; background-color: #f44336; color: white; border: none; border-radius: 4px; cursor: pointer;">
                        å…³é—­
                    </button>
                </div>
            </div>
        </div>
    </div>
    <script>
        // ç»‘å®šåŠ è½½è‡ªå®šä¹‰é“¾æ¥æŒ‰é’®äº‹ä»¶
        document.getElementById('loadCustomUrl').addEventListener('click', function() {
            // å¼¹å‡ºè¾“å…¥æ¡†è·å–ç½‘å€
            const customUrl = prompt('è¯·è¾“å…¥è¦åŠ è½½çš„ç½‘å€ï¼ˆéœ€åŒ…å«http/httpsï¼‰ï¼š', 'https://');

            // éªŒè¯è¾“å…¥ï¼ˆéç©ºä¸”åŒ…å«åè®®ï¼‰
            if (customUrl && (customUrl.startsWith('http://') || customUrl.startsWith('https://'))) {
                const iframe = document.getElementById('contentIframe');
                const urlDisplay = document.getElementById('iframeUrlDisplay');

                // åŠ è½½è‡ªå®šä¹‰é“¾æ¥
                iframe.src = customUrl;
                // æ›´æ–°é¡¶éƒ¨æ˜¾ç¤ºçš„é“¾æ¥
                urlDisplay.textContent = customUrl;
            } else if (customUrl) {
                // æç¤ºæ ¼å¼é”™è¯¯
                alert('è¯·è¾“å…¥æœ‰æ•ˆçš„ç½‘å€ï¼ˆéœ€ä»¥http://æˆ–https://å¼€å¤´ï¼‰');
            }
        });
    </script>
</body>

</html>
